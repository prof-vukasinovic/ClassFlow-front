<div *ngIf="student" class="detail">

  <div class="student-header">
    <h3>{{ student.prenom }} {{ student.nom }}</h3>

    <div class="student-header-actions">
      <button (click)="renameStudent()">âœï¸</button>
      <button (click)="deleteStudent()">ğŸ—‘ï¸</button>
    </div>
  </div>

  <h4>Remarques</h4>

  <div>
    <div class="category-buttons">

      <div *ngIf="devoirs.length > 0" style="margin-bottom:8px;">
        <select
          [(ngModel)]="selectedDevoir"
          (change)="onDevoirChange()">

          <option [ngValue]="null">-- Choisir un devoir --</option>

          <option *ngFor="let d of devoirs" [ngValue]="d">
            {{ d }}
          </option>

        </select>
      </div>

      <button
        type="button"
        *ngFor="let c of categories"
        (click)="addCategoryRemarque(c.value)"
      >
        {{ c.label }}
      </button>
    </div>

    <input
      [(ngModel)]="newRemarqueText"
      (keyup.enter)="addRemarque()"
      placeholder="Nouvelle remarque">

    <button (click)="addRemarque()">Ajouter</button>
  </div>

  <div class="remarques-container">

    <div *ngIf="activeRemarques.length === 0" class="empty">
      Aucune remarque
    </div>

    <div *ngFor="let remarque of activeRemarques" class="remarque">
      <div class="intitule">
        {{ cleanText(remarque.intitule) }}
      </div>

      <div class="date">
        {{ remarque.createdAt | date:'dd/MM/yyyy HH:mm' }}
      </div>

      <div>
        <button (click)="editRemarque(remarque)">âœï¸</button>
        <button (click)="deleteRemarque(remarque)">ğŸ—‘ï¸</button>
      </div>
    </div>

  </div>

  <h4 *ngIf="deletedRemarques.length > 0">Corbeille</h4>

  <div *ngFor="let remarque of deletedRemarques" class="remarque">
    <div class="intitule">
      {{ cleanText(remarque.intitule) }}
    </div>

    <div class="date">
      {{ remarque.createdAt | date:'dd/MM/yyyy HH:mm' }}
    </div>

    <button (click)="restore(remarque)">â†©ï¸</button>
    <button (click)="deleteForever(remarque)">Supprimer dÃ©finitivement</button>
  </div>

</div>