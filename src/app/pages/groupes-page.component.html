<h1>Groupes</h1>

<button [routerLink]="['/classrooms', classId]">â¬…ï¸</button>

<div class="toolbar">
  <input type="number" [(ngModel)]="nombreGroupes" min="1">
  <button (click)="createGroupes()">â•</button>
  <button (click)="repartitionAleatoire()">ğŸ²</button>
  <button (click)="sauvegarder()">ğŸ’¾</button>
</div>

<div class="groupes-grid">

  <div *ngFor="let groupe of groupes; let i = index"
       class="groupe-card"
       [style.border]="'3px solid ' + couleurs[i % couleurs.length]">

    <div class="groupe-header">
      <h3>{{ groupe.nom }}</h3>
      <button (click)="toggleExpand(groupe)">
        {{ groupe.expanded ? 'ğŸ™ˆ' : 'ğŸ‘' }}
      </button>
    </div>

    <div class="groupe-body"
         [class.collapsed]="!groupe.expanded">

      <div *ngFor="let eleve of groupe.eleves"
           class="eleve-row">

        {{ eleve.prenom }} {{ eleve.nom }}

        <button (click)="retirerEleve(groupe, eleve)">âŒ</button>

      </div>

    </div>

    <hr>

    <select #selectEleve>
      <option *ngFor="let e of getAvailableStudents()" [value]="e.id">
        {{ e.prenom }} {{ e.nom }}
      </option>
    </select>

    <div class="groupe-actions">
      <button (click)="ajouterEleve(groupe, +selectEleve.value)">â•</button>
      <button (click)="supprimerGroupe(groupe)">ğŸ—‘ï¸</button>
    </div>

  </div>

</div>